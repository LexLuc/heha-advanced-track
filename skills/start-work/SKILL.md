---
name: start-work
description: 开始新工作。当用户说"开始工作"、"新任务"、"开新分支"时使用。
argument-hint: [您这次的工作名称]
---

# 开始工作

帮助用户基于 main 分支创建一个规范命名的工作分支。

## 步骤

1. **获取 git 用户名**：运行 `git config user.name` 如果没有设置，帮用户设置。
2. **获取工作名称**：从 `$ARGUMENTS` 获取。如果用户没有提供，询问用户本次工作的简短描述并以此命名（如 `add-login-page`、`fix-header-bug`）
3. **确认工作名称格式**：工作名称应使用英文小写、用短横线连接（kebab-case），不含空格和特殊字符。如果用户输入了中文或含空格的描述，帮助转换为合适的英文 kebab-case 格式
4. **获取当前日期时间**：运行 `date +%Y%m%d%H%M` 得到如 `202602081430` 格式的时间戳
5. 告知用户你这次的分支名将会是 `<用户名>/<工作名称>_<时间戳>`，例如 `zhangsan/add-login-page_202602081430`
6. **用 git 命令切到 main 分支并更新**
6. **创建并切换到新分支**：

```bash
git checkout -b "<用户名>/<工作名称>_<时间戳>"
```

示例：`git checkout -b "zhangsan/add-login-page_202602081430"`

7. **确认成功**：运行 `git branch` 确认当前在新分支上，告诉用户 git 版本控制准备工作已完成，可以开始工作了
